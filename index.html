<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no" />
  <title>آراد کوئیز - بازی آموزشی پایه هفتم</title>
  <meta name="description" content="بازی رقابتی درسی برای پایه هفتم: ریاضی، علوم، فارسی، مطالعات اجتماعی">
  <link href="https://fonts.googleapis.com/css2?family=Vazirmatn:wght@700&display=swap" rel="stylesheet">
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      font-family: 'Vazirmatn', system-ui, sans-serif;
    }
    body {
      background: linear-gradient(135deg, #0f0c29, #302b63, #24243e);
      color: white;
      min-height: 100vh;
      padding: 15px;
      text-align: center;
    }
    .rainbow-bar {
      height: 10px;
      background: linear-gradient(to right, red, orange, yellow, green, cyan, blue, purple);
      border-radius: 5px;
      margin: 15px 0;
      box-shadow: 0 0 12px white;
    }
    .container {
      max-width: 600px;
      margin: 0 auto;
    }
    h1 {
      font-size: 2.4rem;
      margin: 20px 0;
      background: linear-gradient(to right, #ff00ff, #00ffff, #ffff00);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      text-shadow: 0 2px 10px rgba(0,0,0,0.3);
    }
    .btn {
      display: block;
      width: 90%;
      padding: 16px;
      margin: 14px auto;
      border: none;
      border-radius: 30px;
      font-size: 1.4rem;
      font-weight: bold;
      color: white;
      cursor: pointer;
      transition: all 0.3s ease;
      box-shadow: 0 4px 12px rgba(0,0,0,0.4);
    }
    .btn:hover {
      transform: translateY(-3px);
      box-shadow: 0 6px 16px rgba(0,0,0,0.5);
    }
    .btn-primary { background: linear-gradient(to right, #FF416C, #FF4B2B); }
    .btn-battle { background: linear-gradient(to right, #834d9b, #d04ed6); }
    .btn-subject { background: linear-gradient(to right, #2193b0, #6dd5ed); }
    .screen { display: none; }
    .active { display: block; }
    .question-box {
      background: rgba(0, 0, 0, 0.35);
      padding: 22px;
      border-radius: 20px;
      margin: 25px 0;
      font-size: 1.5rem;
      line-height: 1.6;
      box-shadow: 0 4px 15px rgba(0,0,0,0.4);
    }
    .option {
      background: rgba(255, 255, 255, 0.12);
      margin: 12px auto;
      padding: 16px;
      border-radius: 16px;
      width: 92%;
      font-size: 1.3rem;
      cursor: pointer;
      transition: all 0.25s;
    }
    .option:hover {
      background: rgba(255, 255, 255, 0.2);
      transform: scale(1.02);
    }
    .option.correct { background: #00c853 !important; transform: scale(1.03); }
    .option.wrong { background: #ff5252 !important; transform: scale(1.03); }
    .score-display {
      font-size: 1.5rem;
      margin: 15px 0;
      font-weight: bold;
      color: #00ffcc;
      text-shadow: 0 0 8px #00ffcc;
    }
    .footer {
      margin-top: 25px;
      font-size: 1.15rem;
      color: #ffcc00;
      font-weight: bold;
    }
    @media (max-width: 480px) {
      h1 { font-size: 2rem; }
      .btn { font-size: 1.25rem; padding: 14px; }
      .question-box { font-size: 1.35rem; padding: 18px; }
    }
  </style>
</head>
<body>
  <div class="rainbow-bar"></div>
  <div class="container">
    <!-- صفحه اصلی -->
    <div id="home" class="screen active">
      <h1>🎮 آراد کوئیز 🎮</h1>
      <p style="font-size:1.3rem;margin:15px 0;">بازی رقابتی درسی برای پایه هفتم</p>
      <button class="btn btn-primary" onclick="showScreen('subject')">📚 انتخاب درس</button>
      <button class="btn btn-battle" onclick="startBattle()">⚔️ رقابت با ربات</button>
      <p class="footer">ساخته شده توسط: آراد مقدم</p>
    </div>

    <!-- انتخاب درس -->
    <div id="subject" class="screen">
      <h1>درس مورد نظر را انتخاب کن</h1>
      <button class="btn btn-subject" onclick="startQuiz('ریاضی')">ریاضی</button>
      <button class="btn btn-subject" onclick="startQuiz('علوم')">علوم</button>
      <button class="btn btn-subject" onclick="startQuiz('فارسی')">فارسی</button>
      <button class="btn btn-subject" onclick="startQuiz('مطالعات')">مطالعات اجتماعی</button>
      <button class="btn" style="background:#555;" onclick="showScreen('home')">بازگشت</button>
    </div>

    <!-- آزمون -->
    <div id="quiz" class="screen">
      <div class="score-display" id="score">امتیاز: 0</div>
      <div class="question-box" id="question"></div>
      <div id="options"></div>
    </div>

    <!-- رقابتی -->
    <div id="battle" class="screen">
      <div class="score-display" id="battleScore">تو: 0 | ربات: 0</div>
      <div class="question-box" id="battleQuestion"></div>
      <div id="battleOptions"></div>
    </div>
  </div>

  <!-- صداها (لینک‌های مستقیم و مطمئن) -->
  <audio id="correctSound" preload="auto">
    <source src="https://assets.mixkit.co/sfx/preview/mixkit-winning-chimes-2015.mp3" type="audio/mpeg">
  </audio>
  <audio id="wrongSound" preload="auto">
    <source src="https://assets.mixkit.co/sfx/preview/mixkit-wrong-answer-fail-notification-946.mp3" type="audio/mpeg">
  </audio>

  <script>
    // ✅ سوالات دقیق و بررسی‌شده برای پایه هفتم (نسخه نهایی)
    const questions = {
      ریاضی: [
        { q: "حاصل عبارت (۳ + ۴) × ۲ چند است؟", o: ["۱۰", "۱۴", "۲۴", "۷"], a: 1 },
        { q: "زاویه‌ی خارجی یک مثلث متساوی‌الاضلاع چند درجه است؟", o: ["۶۰", "۹۰", "۱۲۰", "۱۸۰"], a: 2 },
        { q: "عدد ۱۴۴ چند شمارنده دارد؟", o: ["۱۲", "۱۵", "۱۸", "۲۰"], a: 1 },
        { q: "مساحت مربعی با قطر ۱۰ سانتی‌متر چقدر است؟", o: ["۵۰", "۱۰۰", "۲۵", "۷۵"], a: 0 },
        { q: "کوچک‌ترین مضرب مشترک ۱۲ و ۱۸ کدام است؟", o: ["۲۴", "۳۶", "۷۲", "۱۸"], a: 1 },
        { q: "عددی ۳۰٪ آن برابر ۴۵ است. خود عدد چند است؟", o: ["۱۵۰", "۱۳۵", "۹۰", "۶۰"], a: 0 },
        { q: "نسبت محیط دایره به قطر آن تقریباً چقدر است؟", o: ["۳/۱۴", "۲۲/۷", "۳", "۳/۵"], a: 0 },
        { q: "مجموع زوایای داخلی یک پنج‌ضلعی چند درجه است؟", o: ["۳۶۰", "۵۴۰", "۷۲۰", "۱۸۰"], a: 1 },
        { q: "عدد ۲/۵ به صورت درصد چند است؟", o: ["۲۵٪", "۴۰٪", "۵۰٪", "۲۰٪"], a: 1 },
        { q: "اگر x + 7 = 15 باشد، x چند است؟", o: ["۷", "۸", "۹", "۱۰"], a: 1 },
        { q: "حجم مکعبی به ضلع ۴ سانتی‌متر چقدر است؟", o: ["۱۶", "۳۲", "۶۴", "۱۲"], a: 2 },
        { q: "عدد اول بعد از ۲۰ کدام است؟", o: ["۲۱", "۲۲", "۲۳", "۲۵"], a: 2 },
        { q: "ربع یک عدد ۱۲ است. خود عدد چند است؟", o: ["۴۸", "۳۶", "۲۴", "۶۰"], a: 0 },
        { q: "نسبت ۳ به ۵ معادل کدام کسر است؟", o: ["۶/۱۰", "۹/۱۲", "۱۰/۶", "۱۵/۲۰"], a: 0 },
        { q: "اگر یک زاویه ۷۰ درجه باشد، مکمل آن چند درجه است؟", o: ["۲۰", "۷۰", "۱۱۰", "۱۸۰"], a: 2 },
        { q: "حاصل ۲³ + ۳² چند است؟", o: ["۱۷", "۱۲", "۱۵", "۱۰"], a: 0 },
        { q: "عددی که بر ۳ و ۵ بخش‌پذیر باشد، حتماً بر کدام عدد بخش‌پذیر است؟", o: ["۸", "۱۵", "۹", "۱۰"], a: 1 },
        { q: "محیط دایره‌ای با شعاع ۷ سانتی‌متر (π≈۲۲/۷) چقدر است؟", o: ["۲۲", "۴۴", "۱۵۴", "۷۷"], a: 1 },
        { q: "اگر ۲۰٪ یک عدد ۱۶ باشد، ۵۰٪ آن چقدر است؟", o: ["۲۰", "۳۲", "۴۰", "۸۰"], a: 2 },
        { q: "تفاضل بزرگ‌ترین و کوچک‌ترین عدد سه‌رقمی چند است؟", o: ["۸۹۹", "۹۰۰", "۹۹۹", "۱۰۰"], a: 0 },
      ],
      علوم: [
        { q: "کدام گزینه جزء لایه‌های درونی زمین نیست؟", o: ["هسته", "گوشته", "پوسته", "یونوسفر"], a: 3 },
        { q: "واکنش شیمیایی زنگ‌زدگی آهن چه نوع واکنشی است؟", o: ["تجزیه", "ترکیب", "جای‌گزینی", "هیچ‌کدام"], a: 1 },
        { q: "کدام ماده رسانای الکتریکی خوبی است؟", o: ["چوب", "پلاستیک", "مس", "شیشه"], a: 2 },
        { q: "واحد اندازه‌گیری نیرو چیست؟", o: ["ژول", "وات", "نیوتن", "کیلوگرم"], a: 2 },
        { q: "کدام گزینه مثالی از تغییر فیزیکی است؟", o: ["سوختن کاغذ", "زدن تخم‌مرغ", "زنگ‌زدگی آهن", "تخمیر نان"], a: 1 },
        { q: "در مدار موازی، ولتاژ در همه شاخه‌ها چگونه است؟", o: ["متفاوت", "صفر", "یکسان", "ناحیه"], a: 2 },
        { q: "کدام گزینه جزء منابع تجدیدناپذیر انرژی است؟", o: ["خورشید", "باد", "نفت", "آب"], a: 2 },
        { q: "سرعت نور در خلأ تقریباً چند متر بر ثانیه است؟", o: ["۳۰۰۰۰۰", "۳۰۰۰۰۰۰", "۳۰۰۰۰۰۰۰۰", "۳۰۰۰۰۰۰۰"], a: 3 },
        { q: "کدام گزینه جزء ذرات سازنده اتم نیست؟", o: ["پروتون", "نیوترون", "الکترون", "مولکول"], a: 3 },
        { q: "تعداد استخوان‌های بدن انسان بالغ چند عدد است؟", o: ["۲۰۶", "۳۰۰", "۱۵۰", "۲۵۰"], a: 0 },
        { q: "کدام گزینه مربوط به دستگاه تنفس است؟", o: ["قلب", "معده", "ریه", "کبد"], a: 2 },
        { q: "آیا ماه نور خودش را دارد؟", o: ["بله", "خیر", "گاهی", "فقط شب"], a: 1 },
        { q: "کدام گزینه جزء سیارات داخلی است؟", o: ["مشتری", "زحل", "مریخ", "اورانوس"], a: 2 },
        { q: "PH مایعی که ۷ است، چه خاصیتی دارد؟", o: ["اسیدی", "بازی", "خنثی", "سمی"], a: 2 },
        { q: "واحد اندازه‌گیری جرم چیست؟", o: ["متر", "ثانیه", "کیلوگرم", "لیتر"], a: 2 },
        { q: "کدام گزینه جزء حسگرهای انسان نیست؟", o: ["چشم", "گوش", "قلب", "زبان"], a: 2 },
        { q: "در کدام حالت ماده، ذرات بیشترین فاصله را دارند؟", o: ["جامد", "مایع", "گاز", "پلاسما"], a: 2 },
        { q: "کدام گزینه جزء منابع انرژی تجدیدپذیر است؟", o: ["زغال‌سنگ", "گاز طبیعی", "خورشید", "نفت"], a: 2 },
        { q: "عدد اتمی عنصری برابر تعداد چیست؟", o: ["نیوترون", "الکترون", "پروتون", "مولکول"], a: 2 },
        { q: "کدام گزینه جزء ویتامین‌های محلول در چربی است؟", o: ["ویتامین C", "ویتامین B", "ویتامین D", "هیچ‌کدام"], a: 2 },
      ],
      فارسی: [
        { q: "فعل «خواهم رفت» از چه نوع افعالی است؟", o: ["ماضی استمراری", "مستقبل", "مضارع", "ماضی بعید"], a: 1 },
        { q: "در عبارت «دانش‌آموزان کلاس هفتم درس می‌خواندند»، فعل چه زمانی دارد؟", o: ["ماضی استمراری", "ماضی ساده", "مستقبل", "حال"], a: 0 },
        { q: "کدام کلمه هم‌خانواده با «دانش» نیست؟", o: ["دانشجو", "دانشگاه", "دانشمند", "دانایی"], a: 3 },
        { q: "در جمله «کتاب‌ها روی میز بودند»، نهاد کدام است؟", o: ["کتاب‌ها", "روی", "میز", "بودند"], a: 0 },
        { q: "کدام گزینه فعل نیست؟", o: ["می‌رود", "رفت", "رود", "رودخانه"], a: 3 },
        { q: "در جمله «آسمان آبی بود»، «آبی» چه نقشی دارد؟", o: ["فعل", "نهاد", "گزار", "قید"], a: 2 },
        { q: "کدام کلمه مصدر است؟", o: ["نوشتن", "نویسنده", "نوشته", "نوشیدنی"], a: 0 },
        { q: "در جمله «بچه‌ها با شوق به مدرسه رفتند»، «با شوق» چه نقشی دارد؟", o: ["نهاد", "قید", "گزار", "مفعول"], a: 1 },
        { q: "کدام کلمه از نظر املایی غلط است؟", o: ["خانواده", "دانش‌آموز", "مطالعات", "ریاضییات"], a: 3 },
        { q: "کدام کلمه مرکب است؟", o: ["کتاب", "مداد", "دانش‌آموز", "میز"], a: 2 },
        { q: "در جمله «من به مدرسه رفتم»، «من» چه نقشی دارد؟", o: ["مفعول", "نهاد", "قید", "فعل"], a: 1 },
        { q: "کدام گزینه جمع مکسر است؟", o: ["کتاب‌ها", "مدادها", "علوم", "میزها"], a: 2 },
        { q: "فعل «می‌خواند» چه زمانی دارد؟", o: ["ماضی", "حال استمراری", "مستقبل", "ماضی استمراری"], a: 1 },
        { q: "کدام کلمه قید است؟", o: ["زیبا", "زیبایی", "زیبا شد", "زیبا‌تر"], a: 3 },
        { q: "در جمله «آب سرد بود»، «سرد» چه نقشی دارد؟", o: ["نهاد", "فعل", "گزار", "مفعول"], a: 2 },
        { q: "کدام کلمه هم‌معنی «خوشحال» است؟", o: ["غمگین", "شاد", "ناراحت", "خسته"], a: 1 },
        { q: "در جمله «او کتاب جدیدی خرید»، «جدیدی» چه نقشی دارد؟", o: ["صفت", "قید", "مضاف", "مضاف‌الیه"], a: 0 },
        { q: "کدام جمله فعل گذرا دارد؟", o: ["آسمان آبی بود", "من خوابیدم", "او کتاب خواند", "هوا سرد است"], a: 2 },
        { q: "کدام کلمه از ریشه «دانستن» نیست؟", o: ["دانش", "دانشمند", "دانایی", "دانا"], a: 2 },
        { q: "در جمله «بچه‌ها در حیاط بازی می‌کردند»، «در حیاط» چه نقشی دارد؟", o: ["نهاد", "قید مکان", "مفعول", "گزار"], a: 1 },
      ],
      مطالعات: [
        { q: "مرکز استان فارس کدام شهر است؟", o: ["شیراز", "اصفهان", "تبریز", "مشهد"], a: 0 },
        { q: "کدام رودخانه به دریای خزر می‌ریزد؟", o: ["کارون", "دجله", "اروند", "سفیدرود"], a: 3 },
        { q: "قدیمی‌ترین تمدن جهان کدام است؟", o: ["مصر", "هند", "سومر", "چین"], a: 2 },
        { q: "کدام کشور همسایه‌ی شمالی ایران است؟", o: ["ترکمنستان", "افغانستان", "پاکستان", "عراق"], a: 0 },
        { q: "پایتخت ایران در دورهٔ صفویه کدام شهر بود؟", o: ["اصفهان", "شیراز", "تبریز", "قم"], a: 0 },
        { q: "کدام استان ایران ساحلی نیست؟", o: ["گیلان", "مازندران", "آذربایجان شرقی", "هرمزگان"], a: 2 },
        { q: "کدام کوه در ایران قرار دارد؟", o: ["البرز", "همالیا", "آلپ", "آند"], a: 0 },
        { q: "کدام گزینه جزء منابع طبیعی تجدیدناپذیر است؟", o: ["جنگل", "آب", "نفت", "خاک"], a: 2 },
        { q: "مردم کدام منطقه بیشتر به کشاورزی مشغول‌اند؟", o: ["کویر", "کوهستان", "دشت‌های حاصلخیز", "صحرا"], a: 2 },
        { q: "کدام شهر در کنار رود کارون قرار دارد؟", o: ["تهران", "اصفهان", "اهواز", "یزد"], a: 2 },
        { q: "کدام گزینه جزء میراث جهانی یونسکو در ایران است؟", o: ["برج میلاد", "تخت جمشید", "پل طبیعت", "دریاچه ارومیه"], a: 1 },
        { q: "مرکز استان آذربایجان شرقی کدام است؟", o: ["ارومیه", "تبریز", "رشت", "زنجان"], a: 1 },
        { q: "کدام کلان‌شهر ایران در شمال کشور قرار دارد؟", o: ["شیراز", "مشهد", "رشت", "یزد"], a: 2 },
        { q: "کدام کشور با ایران مرز مشترک ندارد؟", o: ["ترکیه", "پاکستان", "عراق", "اردن"], a: 3 },
        { q: "کدام دریاچه در ایران قرار دارد؟", o: ["دریاچه وان", "دریاچه ارومیه", "دریاچه طبریه", "دریاچه قره‌سو"], a: 1 },
        { q: "کدام گزینه جزء فعالیت‌های اقتصادی نیست؟", o: ["کشاورزی", "صنعت", "آموزش", "معادن"], a: 2 },
        { q: "مردم لرستان بیشتر به چه شغلی مشغول‌اند؟", o: ["ماهیگیری", "دامداری", "تجارت", "کشاورزی"], a: 1 },
        { q: "کدام استان ایران بیشترین جمعیت را دارد؟", o: ["اصفهان", "خوزستان", "تهران", "خراسان رضوی"], a: 2 },
        { q: "کدام کوه در جنوب ایران قرار دارد؟", o: ["البرز", "زاگرس", "دماوند", "سبلان"], a: 1 },
        { q: "کدام شهر ایران در کنار خلیج فارس قرار دارد؟", o: ["بندرعباس", "رشت", "ساری", "اهواز"], a: 0 },
      ]
    };

    // متغیرهای بازی
    let currentQuiz = [];
    let currentIndex = 0;
    let score = 0;
    let playerScore = 0;
    let botScore = 0;

    // توابع اصلی
    function showScreen(id) {
      document.querySelectorAll('.screen').forEach(s => s.classList.remove('active'));
      document.getElementById(id).classList.add('active');
    }

    function playSound(isCorrect) {
      const sound = document.getElementById(isCorrect ? 'correctSound' : 'wrongSound');
      sound.currentTime = 0;
      sound.play().catch(e => console.log("صدا پخش نشد:", e));
    }

    function startQuiz(subject) {
      currentQuiz = [...questions[subject]];
      currentIndex = 0;
      score = 0;
      showScreen('quiz');
      loadQuestion();
    }

    function startBattle() {
      const all = Object.values(questions).flat();
      currentQuiz = all.slice(0, 20);
      currentIndex = 0;
      playerScore = 0;
      botScore = 0;
      showScreen('battle');
      loadBattleQuestion();
    }

    function loadQuestion() {
      if (currentIndex >= currentQuiz.length) {
        alert(`امتیاز نهایی شما: ${score} از ${currentQuiz.length}`);
        showScreen('home');
        return;
      }
      const q = currentQuiz[currentIndex];
      document.getElementById('question').innerText = `${currentIndex + 1}. ${q.q}`;
      document.getElementById('score').innerText = `امتیاز: ${score}`;
      const optionsDiv = document.getElementById('options');
      optionsDiv.innerHTML = '';
      q.o.forEach((opt, i) => {
        const btn = document.createElement('div');
        btn.className = 'option';
        btn.innerText = opt;
        btn.onclick = () => handleAnswer(i, false);
        optionsDiv.appendChild(btn);
      });
    }

    function loadBattleQuestion() {
      if (currentIndex >= currentQuiz.length) {
        if (playerScore > botScore) {
          alert(`🎉 بردی!\nامتیاز تو: ${playerScore} | ربات: ${botScore}`);
        } else if (playerScore < botScore) {
          alert(`😢 باختی!\nامتیاز تو: ${playerScore} | ربات: ${botScore}`);
        } else {
          alert(`🤝 مساوی!\nامتیاز هر دو: ${playerScore}`);
        }
        showScreen('home');
        return;
      }
      const q = currentQuiz[currentIndex];
      document.getElementById('battleQuestion').innerText = `${currentIndex + 1}. ${q.q}`;
      document.getElementById('battleScore').innerText = `تو: ${playerScore} | ربات: ${botScore}`;
      const optionsDiv = document.getElementById('battleOptions');
      optionsDiv.innerHTML = '';
      q.o.forEach((opt, i) => {
        const btn = document.createElement('div');
        btn.className = 'option';
        btn.innerText = opt;
        btn.onclick = () => handleAnswer(i, true);
        optionsDiv.appendChild(btn);
      });
    }

    function handleAnswer(selectedIndex, isBattle) {
      const q = currentQuiz[currentIndex];
      const container = isBattle ? '#battleOptions' : '#options';
      const options = document.querySelectorAll(`${container} .option`);
      
      // رنگ‌آمیزی
      options.forEach((opt, i) => {
        if (i === q.a) opt.classList.add('correct');
        else if (i === selectedIndex) opt.classList.add('wrong');
      });

      const isCorrect = selectedIndex === q.a;
      if (isCorrect) {
        if (isBattle) playerScore++;
        else score++;
        playSound(true);
      } else {
        playSound(false);
        if (isBattle) botScore++; // ربات امتیاز می‌گیرد اگر تو اشتباه جواب دادی
      }

      setTimeout(() => {
        currentIndex++;
        if (isBattle) loadBattleQuestion();
        else loadQuestion();
      }, 1600);
    }
  </script>
</body>
</html>
